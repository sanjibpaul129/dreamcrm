<%@header = 'Facebook Expandable'%>
<% flash.each do |key, value| %>
        <div class="<%= flash_class(key) %>">
  <button type="button" class="close" data-dismiss="alert">&times;</button>
  <strong>Heads up!</strong> <%= value %>
        </div>
<% end %>


<h1>Source Wise Leads Funnel & Absolute</h1>

<%= form_tag 'facebook_expandable' do  %>
<div class="row">
  <div class="col-lg-1">
    From 
  </div>
  <div class="col-lg-2">
    <%= date_field(:lead, :from, :value => @from, :class => 'form-control') %>
  </div>
  <div class="col-lg-1">
    to 
  </div>
  <div class="col-lg-2">
    <%= date_field(:lead, :to, :value => @to, :class => 'form-control') %>
  </div>
  <div class="col-lg-2">
    <%= select(:project, :selected, options_for_select(@projects, selected: params[:project].try{|x| x[:selected]}),{}, {:class => 'form-control'})  %>
  </div>
  <div class="col-lg-2">
    <% if current_personnel.status=='Admin' || current_personnel.status=='Back Office' || current_personnel.status=='Marketing' || current_personnel.status=='Team Lead' %>
    <%= select(:site_executive, :picked, options_for_select(@site_executives, selected: @executive), {}, {:class => 'form-control'})   %>
    <% end %>
  </div>
  <div class="col-lg-2">
      with details
      <% if @with_details == "true"%>
        <%= check_box_tag 'with_details', true, nil, :checked => true%>
      <%else%>
        <%= check_box_tag 'with_details', true, nil%>
      <%end%>
    </div>
  <div class="col-lg-2">
    <%= submit_tag 'Refresh', name: 'refreshnow', :class => 'btn btn-primary' %>
  </div>
</div>

<table class="customers">
  <thead>
    <tr>      
      <th>Source</th>
      <% if @with_details == "true"%>
      <th>Impressions</th>
      <th>Clicks</th>
      <th>CTR</th>
      <% end %>
      <th>Generated</th>
      <th>Ad Spend</th>
      <th>CPL</th>
      <th>Qualified</th>
      <th>CPQL</th>
      <th>Visit</th>
      <th>Booking</th>
      <th>Lost</th>
    </tr>
  </thead>

  <tbody>
      <% @source_tree.each do |key,value| %>
<% if value[2]=={} %>
    <tr>  
        <td><%= SourceCategory.find(key).description%></td>  
        <% if @with_details == "true"%>
          <td><%= value[17] %></td>
          <td><%= value[19] %></td>
          <td><%= ((value[19].to_f/value[17].to_f)*100).round(2) if value[17] != 0 %></td>
        <% end %>
        <td><%= link_to value[0], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}, "with_children" => "true"),  method: :post %></td>
        <%
          generated_leads = value[0]
          qualified = value[9]
          if generated_leads == 0
            qualified_percentage = 0
          else
            qualified_percentage = ((qualified*100)/generated_leads)
          end
        %>
        <td><%= value[13] %></td>
        <td><%= value[13]/value[0] if value[0] != 0 %></td>
        <td><%= link_to value[9], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Qualified', "with_children" => "true"),  method: :post%> (<%= qualified_percentage%>%)</td>
        <td><%= value[13]/value[9] if value[9] != 0 %></td>
        <td><%= link_to value[3], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Site Visit', "with_children" => "true"),  method: :post %></td>
        <td><%= link_to value[5], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Booked', "with_children" => "true"),  method: :post %></td>
        <td><%= link_to value[7], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Lost', "with_children" => "true"),  method: :post %></td>          
    </tr>
<% else %>
    <tr class="great_grand_parent" id=<%= key %> title="Click to expand/collapse" style="cursor: pointer;">  
        <td><%= SourceCategory.find(key).description%> +</td>  
        <% if @with_details == "true"%>
          <td><%= value[17] %></td>
          <td><%= value[19] %></td>
          <td><%= ((value[19].to_f/value[17].to_f)*100).round(2) if value[17] != 0 %></td>
        <% end %>
        <td><%= link_to value[0], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}, "with_children" => "true"),  method: :post %></td>
        <%
          generated_leads = value[0]
          qualified = value[9]
          if generated_leads == 0
            qualified_percentage = 0
          else
            qualified_percentage = ((qualified*100)/generated_leads)
          end
        %>
        <td><%= value[13] %></td>
        <td><%= value[13]/value[0] if value[0] != 0 %></td>
        <td><%= link_to value[9], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Qualified', "with_children" => "true"),  method: :post %> (<%= qualified_percentage%>%)</td>
        <td><%= value[13]/value[9] if value[9] != 0 %></td>
        <td><%= link_to value[3], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Site Visit', "with_children" => "true"),  method: :post %></td>
        <td><%= link_to value[5], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Booked', "with_children" => "true"),  method: :post %></td>
        <td><%= link_to value[7], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Lost', "with_children" => "true"),  method: :post %></td>
    </tr>
    <% if value[1] != 0 && value[1] != value[0] %> 
    <tr class=<%= "grand_parent_"+(key.to_s) %> title="Click to expand/collapse" style="cursor: pointer;">  
            <td><i><%= SourceCategory.find(key).description%>(Self)</i></td>  
            <% if @with_details == "true"%>
              <td><%= value[18] %></td>
              <td><%= value[20] %></td>
              <td><%= ((value[20].to_f/value[18].to_f)*100).round(2) if value[18] != 0 %></td>
            <% end %>
            <td><i>(<%= link_to value[1], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}),  method: :post %>)</i></td>
            <%
              generated_leads = value[1]
              qualified = value[10]
              if generated_leads == 0
                qualified_percentage = 0
              else
                qualified_percentage = ((qualified*100)/generated_leads)
              end
            %>
            <td><%= value[14] %></td>
            <td><%= value[14]/value[1] if value[1] != 0%></td>
            <td><%= link_to value[10], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Qualified'),  method: :post%>  (<%= qualified_percentage%>%)</td>
            <td><%= value[14]/value[10] if value[10] != 0 %></td>
            <td><i>(<%= link_to value[4], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Site Visit'),  method: :post %>)</i></td>
            <td><%= link_to value[6], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Booked'),  method: :post %></td>            
            <td><%= link_to value[8], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=> key.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Lost'),  method: :post %></td>
    </tr>
    <% end %>
    <% Hash[value[2].sort_by{|k, v| v[0]}.reverse].keys.each do |grand_parent| %>
        <tr class=<%= "grand_parent_"+(key.to_s) %> id=<%= grand_parent %> title="Click to expand/collapse" style="cursor: pointer;">  
            <td>&nbsp&nbsp&nbsp&nbsp&nbsp<%= SourceCategory.find(grand_parent).description%> <b><%= '+' if value[2][grand_parent][2] != {} %></b></td>
            <% if @with_details == "true"%>
              <td><%= value[2][grand_parent][17] %></td>
              <td><%= value[2][grand_parent][19] %></td>
              <td><%= ((value[2][grand_parent][19].to_f/value[2][grand_parent][17].to_f)*100).round(2) if value[2][grand_parent][17] != 0 %></td>
            <% end %>  
            <td><%= link_to value[2][grand_parent][0], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}, "with_children" => "true"),  method: :post %></td>
            <%
              generated_leads = value[2][grand_parent][0]
              qualified = value[2][grand_parent][9]
              if generated_leads == 0
                qualified_percentage = 0
              else
                qualified_percentage = ((qualified*100)/generated_leads)
              end
            %>
            <td><%= value[2][grand_parent][13] %></td>
            <td><%= value[2][grand_parent][13]/value[2][grand_parent][0] if value[2][grand_parent][0] != 0 %></td>
            <td><%= link_to value[2][grand_parent][9], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Qualified', "with_children" => "true"),  method: :post %> (<%= qualified_percentage%>%)</td>
            <td><%= link_to value[2][grand_parent][13]/value[2][grand_parent][9] if value[2][grand_parent][9] != 0 %></td>
            <td><%= link_to value[2][grand_parent][3], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Site Visit', "with_children" => "true"),  method: :post %></td>
            <td><%= link_to value[2][grand_parent][5], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Booked', "with_children" => "true"),  method: :post %></td>
            <td><%= link_to value[2][grand_parent][7], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Lost', "with_children" => "true"),  method: :post %></td> 
        </tr>    
            <% if value[2][grand_parent][1] != 0 && value[2][grand_parent][1] != value[2][grand_parent][0] %> 
            <tr class=<%= "parent_"+(grand_parent.to_s) %> title="Click to expand/collapse" style="cursor: pointer;">  
                    <td>&nbsp&nbsp&nbsp&nbsp&nbsp<i><%= SourceCategory.find(grand_parent).description%>(Self)</i></td>  
                    <% if @with_details == "true"%>
                      <td><%= value[2][grand_parent][18] %></td>
                      <td><%= value[2][grand_parent][20] %></td>
                      <td><%= ((value[2][grand_parent][20].to_f/value[2][grand_parent][18].to_f)*100).round(2) if value[2][grand_parent][18] != 0 %></td>
                    <% end %>
                    <td><%= link_to value[2][grand_parent][1], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}),  method: :post %></td>
                    <%
                      generated_leads = value[2][grand_parent][1]
                      qualified = value[2][grand_parent][10]
                      if generated_leads == 0
                        qualified_percentage = 0
                      else
                        qualified_percentage = ((qualified*100)/generated_leads)
                      end
                    %>
                    <td><%= value[2][grand_parent][14] %></td>
                    <td><%= value[2][grand_parent][14]/value[2][grand_parent][1] if value[2][grand_parent][1] != 0 %></td>
                    <td><%= link_to value[2][grand_parent][10], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Qualified'),  method: :post%> (<%= qualified_percentage%>%)</td>
                    <td><%= value[2][grand_parent][14]/value[2][grand_parent][10] if value[2][grand_parent][10] != 0 %></td>
                    <td><%= link_to value[2][grand_parent][4], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Site Visit'),  method: :post %></td>
                    <td><%= link_to value[2][grand_parent][6], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Booked'),  method: :post %></td>
                    <td><%= link_to value[2][grand_parent][8], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Lost'),  method: :post %></td> 
            </tr>
            <% end %>
            <% if value[2][grand_parent][2] != {} %>
                <% Hash[value[2][grand_parent][2].sort_by{|k, v| v[0]}.reverse].keys.each do |parent| %>
                    <tr class=<%= "parent_"+(grand_parent.to_s) %> id=<%= parent %> title="Click to expand/collapse" style="cursor: pointer;">  
                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= SourceCategory.find(parent).description%> <b><%= '+' if value[2][grand_parent][2][parent][2] != {} %></b></td>
                        <% if @with_details == "true"%>
                          <td><%= value[2][grand_parent][2][parent][17] %></td>
                          <td><%= value[2][grand_parent][2][parent][19] %></td>
                          <td><%= ((value[2][grand_parent][2][parent][19].to_f/value[2][grand_parent][2][parent][17].to_f)*100).round(2) if value[2][grand_parent][2][parent][17] != 0 %></td>
                        <% end %>  
                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][0], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}, "with_children" => "true"),  method: :post %></td>
                        <%
                          generated_leads = value[2][grand_parent][2][parent][0]
                          qualified = value[2][grand_parent][2][parent][9]
                          if generated_leads == 0
                            qualified_percentage = 0
                          else
                            qualified_percentage = ((qualified*100)/generated_leads)
                          end
                        %>
                        <td><%= value[2][grand_parent][2][parent][13] if value[2][grand_parent][2][parent][13] != 0 %></td>
                        <td><%= value[2][grand_parent][2][parent][13]/value[2][grand_parent][2][parent][0] if value[2][grand_parent][2][parent][0] != 0 %></td>
                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][9], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Qualified', "with_children" => "true"),  method: :post%> (<%= qualified_percentage%>%)</td>
                        <td><%= value[2][grand_parent][2][parent][13]/value[2][grand_parent][2][parent][9] if value[2][grand_parent][2][parent][9] != 0 %></td>
                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][3], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Site Visit', "with_children" => "true"),  method: :post %></td>
                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][5], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Booked', "with_children" => "true"),  method: :post %></td>
                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][7], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Lost', "with_children" => "true"),  method: :post %></td> 
                    </tr>    
                        <% if value[2][grand_parent][2][parent][1] != 0 && value[2][grand_parent][2][parent][1] != value[2][grand_parent][2][parent][0] %> 
                        <tr class=<%= "child_"+(parent.to_s) %> title="Click to expand/collapse" style="cursor: pointer;">  
                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<i><%= SourceCategory.find(parent).description%>(Self)</i></td>
                                <% if @with_details == "true"%>
                                  <td><%= value[2][grand_parent][2][parent][18] %></td>
                                  <td><%= value[2][grand_parent][2][parent][20] %></td>
                                  <td><%= ((value[2][grand_parent][2][parent][20].to_f/value[2][grand_parent][2][parent][18].to_f)*100).round(2) if value[2][grand_parent][2][parent][18] != 0 %></td>
                                <% end %>  
                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][1], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}),  method: :post %></td>
                                <%
                                  generated_leads = value[2][grand_parent][2][parent][1]
                                  qualified = value[2][grand_parent][2][parent][10]
                                  if generated_leads == 0
                                    qualified_percentage = 0
                                  else
                                    qualified_percentage = ((qualified*100)/generated_leads)
                                  end
                                %>
                                <td><%= value[2][grand_parent][2][parent][14] %></td>
                                <td><%= value[2][grand_parent][2][parent][14]/value[2][grand_parent][2][parent][1] if value[2][grand_parent][2][parent][1] != 0 %></td>
                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][10], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Qualified'),  method: :post%> (<%= qualified_percentage%>%)</td>
                                <td><%= value[2][grand_parent][2][parent][14]/value[2][grand_parent][2][parent][10] if value[2][grand_parent][2][parent][10] != 0 %></td>
                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][4], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Site Visit'),  method: :post %></td>
                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][6], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Booked'),  method: :post %></td>
                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][8], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(parent).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Lost'),  method: :post %></td>
                        </tr>
                        <% end %>
                        <% if value[2][grand_parent][2][parent][2] != {} %>
                            <% Hash[value[2][grand_parent][2][parent][2].sort_by{|k, v| v[0]}.reverse].keys.each do |child| %>
                                <tr class=<%= "child_"+(parent.to_s) %> id=<%= child %> title="Click to expand/collapse" style="cursor: pointer;">  
                                    <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= SourceCategory.find(child).description%><b> <%= '+' if value[2][grand_parent][2][parent][2][child][2] != {} %></b></td>
                                    <% if @with_details == "true"%>
                                      <td><%= value[2][grand_parent][2][parent][2][child][17] %></td>
                                      <td><%= value[2][grand_parent][2][parent][2][child][19] %></td>
                                      <td><%= ((value[2][grand_parent][2][parent][2][child][19].to_f/value[2][grand_parent][2][parent][2][child][17].to_f)*100).round(2) if value[2][grand_parent][2][parent][2][child][17] != 0 %></td>
                                    <% end %>  
                                    <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][0], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}, "with_children" => "true"),  method: :post %></td>
                                    <%
                                      generated_leads = value[2][grand_parent][2][parent][2][child][0]
                                      qualified = value[2][grand_parent][2][parent][2][child][9]
                                      if generated_leads == 0
                                        qualified_percentage = 0
                                      else
                                        qualified_percentage = ((qualified*100)/generated_leads)
                                      end
                                    %>
                                    <td><%= value[2][grand_parent][2][parent][2][child][13] %></td>
                                    <td><%= value[2][grand_parent][2][parent][2][child][13]/value[2][grand_parent][2][parent][2][child][0] if value[2][grand_parent][2][parent][2][child][0] != 0 %></td>
                                    <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][9], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Qualified', "with_children" => "true"),  method: :post %>  (<%= qualified_percentage%>%)</td>
                                    <td><%= value[2][grand_parent][2][parent][2][child][13]/value[2][grand_parent][2][parent][2][child][9] if value[2][grand_parent][2][parent][2][child][9] != 0 %></td>
                                    <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][3], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Site Visit', "with_children" => "true"),  method: :post %></td>
                                    <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][5], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Booked', "with_children" => "true"),  method: :post %></td>
                                    <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][7], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} , "lead_type" => 'Lost', "with_children" => "true"),  method: :post %></td>
                                </tr>    
                                    <% if value[2][grand_parent][2][parent][2][child][1] != 0 && value[2][grand_parent][2][parent][2][child][1] != value[2][grand_parent][2][parent][2][child][0] %> 
                                      <tr class=<%= "grand_child_"+(child.to_s) %> title="Click to expand/collapse" style="cursor: pointer;">  
                                            <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<i><%= SourceCategory.find(child).description%>(Self)</i></td>
                                            <% if @with_details == "true"%>
                                              <td><%= value[2][grand_parent][2][parent][2][child][18] %></td>
                                              <td><%= value[2][grand_parent][2][parent][2][child][20] %></td>
                                              <td><%= ((value[2][grand_parent][2][parent][2][child][20].to_f/value[2][grand_parent][2][parent][2][child][18].to_f)*100).round(2) if value[2][grand_parent][2][parent][2][child][18] != 0 %></td>
                                            <% end %>  
                                            <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][1], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}),  method: :post %></td>
                                            <%
                                              generated_leads = value[2][grand_parent][2][parent][2][child][1]
                                              qualified = value[2][grand_parent][2][parent][2][child][10]
                                              if generated_leads == 0
                                                qualified_percentage = 0
                                              else
                                                qualified_percentage = ((qualified*100)/generated_leads)
                                              end
                                            %>
                                            <td><%= value[2][grand_parent][2][parent][2][child][14] %></td>
                                            <td><%= value[2][grand_parent][2][parent][2][child][14]/value[2][grand_parent][2][parent][2][child][1] if value[2][grand_parent][2][parent][2][child][1] != 0 %></td>
                                            <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][10], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Qualified'),  method: :post %> (<%= qualified_percentage%>%)</td>
                                            <td><%= value[2][grand_parent][2][parent][2][child][14]/value[2][grand_parent][2][parent][2][child][10] if value[2][grand_parent][2][parent][2][child][10] != 0 %></td>
                                            <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][4], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Site Visit'),  method: :post %></td>
                                            <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][6], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Booked'),  method: :post %></td>
                                            <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][8], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Lost'),  method: :post %></td>
                                    </tr>
                                    <% end %>
                                    <% if value[2][grand_parent][2][parent][2][child][2] != {} %>
                                        <% Hash[value[2][grand_parent][2][parent][2][child][2].sort_by{|k, v| v[0]}.reverse].keys.each do |grand_child| %>
                                            <tr class=<%= "grand_child_"+(child.to_s) %> id=<%= grand_child %> title="Click to expand/collapse" style="cursor: pointer;">  
                                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= SourceCategory.find(grand_child).description%></td>
                                                <% if @with_details == "true"%>
                                                  <td><%= value[2][grand_parent][2][parent][2][child][2][grand_child][17] %></td>
                                                  <td><%= value[2][grand_parent][2][parent][2][child][2][grand_child][19] %></td>
                                                  <td><%= ((value[2][grand_parent][2][parent][2][child][2][grand_child][19].to_f/value[2][grand_parent][2][parent][2][child][2][grand_child][17].to_f)*100).round(2) if value[2][grand_parent][2][parent][2][child][2][grand_child][17] != 0 %></td>
                                                <% end %>   
                                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][2][grand_child][0], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}),  method: :post %></td>
                                                <%
                                                  generated_leads = value[2][grand_parent][2][parent][2][child][2][grand_child][0]
                                                  qualified = value[2][grand_parent][2][parent][2][child][2][grand_child][9]
                                                  if generated_leads == 0
                                                    qualified_percentage = 0 
                                                  else
                                                    qualified_percentage = ((qualified*100)/generated_leads)
                                                  end
                                                %>
                                                <td><%= value[2][grand_parent][2][parent][2][child][2][grand_child][13] %></td>
                                                <td><%= value[2][grand_parent][2][parent][2][child][2][grand_child][13]/value[2][grand_parent][2][parent][2][child][2][grand_child][0] if value[2][grand_parent][2][parent][2][child][2][grand_child][0] != 0%></td>
                                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][2][grand_child][9], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Qualified'),  method: :post%> (<%= qualified_percentage%>%)</td>
                                                <td><%= value[2][grand_parent][2][parent][2][child][2][grand_child][13]/value[2][grand_parent][2][parent][2][child][2][grand_child][9] if value[2][grand_parent][2][parent][2][child][2][grand_child][9] != 0 %></td>
                                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][2][grand_child][3], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Site Visit'),  method: :post %></td>
                                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][2][grand_child][5], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Booked'),  method: :post %></td>
                                                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][2][grand_child][7], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Lost'),  method: :post %></td>
                                            </tr>    
                                                <% if value[2][grand_parent][2][parent][2][child][2][grand_child][1] != 0 && value[2][grand_parent][2][parent][2][child][2][grand_child][1] != value[2][grand_parent][2][parent][2][child][2][grand_child][0] %> 
                                                <tr class=<%= "grand_child_"+(grand_child.to_s) %> title="Click to expand/collapse" style="cursor: pointer;">  
                                                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<i><%= SourceCategory.find(grand_child).description%>(Self)</i></td>
                                                        <% if @with_details == "true"%>
                                                          <td><%= value[2][grand_parent][2][parent][2][child][2][grand_child][18] %></td>
                                                          <td><%= value[2][grand_parent][2][parent][2][child][2][grand_child][20] %></td>
                                                          <td><%= ((value[2][grand_parent][2][parent][2][child][2][grand_child][20].to_f/value[2][grand_parent][2][parent][2][child][2][grand_child][18].to_f)*100).round(2) if value[2][grand_parent][2][parent][2][child][2][grand_child][18] != 0%></td>
                                                        <% end %>  
                                                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][2][grand_child][1], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s}),  method: :post %></td>
                                                        <%
                                                          generated_leads = value[2][grand_parent][2][parent][2][child][2][grand_child][1]
                                                          qualified = value[2][grand_parent][2][parent][2][child][2][grand_child][10]
                                                          if generated_leads == 0
                                                            qualified_percentage = 0
                                                          else
                                                            qualified_percentage = ((qualified*100)/generated_leads)
                                                          end
                                                        %>
                                                        <td><%= value[2][grand_parent][2][parent][2][child][2][grand_child][14] %></td>
                                                        <td><%= value[2][grand_parent][2][parent][2][child][2][grand_child][14]/value[2][grand_parent][2][parent][2][child][2][grand_child][1] if value[2][grand_parent][2][parent][2][child][2][grand_child][1] != nil %></td>
                                                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][2][grand_child][10], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Qualified'),  method: :post%> (<%= qualified_percentage%>%)</td>
                                                        <td><%= value[2][grand_parent][2][parent][2][child][2][grand_child][14]/value[2][grand_parent][2][parent][2][child][2][grand_child][10] if value[2][grand_parent][2][parent][2][child][2][grand_child][10] != nil %></td>
                                                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][2][grand_child][4], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Site Visit'),  method: :post %></td>
                                                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][2][grand_child][6], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Booked'),  method: :post %></td>
                                                        <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<%= link_to value[2][grand_parent][2][parent][2][child][2][grand_child][8], windows_all_leads_path("project"=>{"selected"=>@business_unit_id.to_s}, "salesteam"=>{"personnel"=>@executive.to_s, "source_category_id"=>SourceCategory.find(grand_child).id.to_s}, "range"=>{"from"=>@from.to_s, "to"=>@to.to_s} ,"lead_type" => 'Lost'),  method: :post %></td>
                                                </tr>
                                                <% end %>
                                        <% end %>
                                    <% end %>            
                            <% end %>        
                        <% end %>            

                <% end %>
            <% end %>            

    <% end %>
        
<% end %>
<% end %>           

      </tbody>
</table>

<% end %>

 <script>
$('#popoverData').popover();
 </script>

 <script type="text/javascript">  
     $(document).ready(function () {  
             $('tr.great_grand_parent')  
                 .css("cursor", "pointer")  
                 .attr("title", "Click to expand/collapse")  
                 .click(function () {  
                     $(this).siblings('.grand_parent_' + this.id).toggle();
                     $('tr.grand_parent_' + this.id)  
                         .css("cursor", "pointer")  
                         .attr("title", "Click to expand/collapse")  
                         .click(function () {  
                             $(this).siblings('.parent_' + this.id).toggle();  
                             $('tr.parent_' + this.id)  
                                 .css("cursor", "pointer")  
                                 .attr("title", "Click to expand/collapse")  
                                 .click(function () {  
                                     $(this).siblings('.child_' + this.id).toggle();
                                     $('tr.child_' + this.id)  
                                         .css("cursor", "pointer")  
                                         .attr("title", "Click to expand/collapse")  
                                         .click(function () {  
                                             $(this).siblings('.grand_child_' + this.id).toggle();  
                                         });  
                                 });
                         });             
                 });  
             $('tr[class^=grand_parent_]').hide().children('td');
             $('tr[class^=parent_]').hide().children('td');
             $('tr[class^=child_]').hide().children('td');
             $('tr[class^=grand_child_]').hide().children('td');
     });  
     </script>  


<style>
  .customers {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif!important;
  border-collapse: collapse!important;
  width: 100%!important;
}

.customers td, .customers th {
  /*border: 1px solid #ddd!important;*/
  padding: 8px!important;
}

.customers tr:nth-child(even){background-color: #f2f2f2!important;}

.customers tr:hover {background-color: #ddd!important;}

.customers th {
  padding-top: 12px!important;
  padding-bottom: 12px!important;
  text-align: left!important;
  background-color: #0083ff!important;
  color: white!important;
}

</style>